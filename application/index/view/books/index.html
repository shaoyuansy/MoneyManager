{layout name="layout"}
<link href="/dist/css/fullcalendar.css" rel="stylesheet" />
<style type="text/css">
#calendar{
    color: #000000;
}
</style>
<section id="main-content">
    <section class="wrapper">
        <h3><i class="fa fa-angle-right"></i> 周期报表</h3>
        <div class="row mt">
            <aside class="col-lg-10 col-md-12 col-sm-12">
                <section class="panel">
                    <div class="panel-body">
                        <div id="calendar" class="dib"></div>
                    </div>
                </section>
            </aside>
        </div>
	</section>
</section>

<script src="/dist/js/fullcalendar/fullcalendar.min.js"></script>
<script>
$(document).ready(function() {
    // 页面加载完毕，初始化Canlendar
    $('#calendar').fullCalendar({
        // 你的配置和回调函数
        buttonText: {
            today: '今天',
            month: '月视图',
            week: '周视图',
            day: '日视图'
        },
        allDayText: "全天",
        timeFormat: {
            '': 'H:mm{-H:mm}'
        },
        weekMode: "variable",
        columnFormat: {
            month: 'dddd',
            week: 'dddd M-d',
            day: 'dddd M-d'
        },
        titleFormat: {
            month: 'yyyy年 MMMM月',
            week: "[yyyy年] MMMM月d日 { '&#8212;' [yyyy年] MMMM月d日}",
            day: 'yyyy年 MMMM月d日 dddd'
        },
        monthNames: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
        dayNames: ["星期天", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
        header: {
            left: 'prev,next today',
            center: 'title',
            right: 'month,agendaWeek,agendaDay'
        },
        dayClick: function (date, allDay, jsEvent, view) {
            if (allDay) {
                alert('Clicked on the entire day: ' + date);
            }else{
                alert('Clicked on the slot: ' + date);
            }
    
            alert('Coordinates: ' + jsEvent.pageX + ',' + jsEvent.pageY);

        },
        eventSources: [
            {
                url: '/index/books/get_events_in',
                color: 'yellow',   // a non-ajax option
                textColor: 'black' // a non-ajax option
            }
    
            // any other sources...
    
        ],
        eventClick: function(event) {
            if (event.url) {
                window.open(event.url);
            }
        },
        eventMouseout :function( event, jsEvent, view ) { 
            console.log(event.title);
        },
        eventMouseover :function( event, jsEvent, view ) { 
            alert(event.title);
        },
    });
})
</script>

